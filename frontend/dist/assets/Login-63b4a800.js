import{u as k,a as C,r as x,b as S,o as a,c as u,w as i,d as s,e as t,_ as E,f as o,F as c,E as g,g as m,h as b,t as B,i as V,j}from"./index-8f2d3d2e.js";import{_ as A}from"./AuthLayout-349c8c2b.js";import{t as F,o as P,s as y,b as N}from"./vee-validate-zod-0b684b67.js";import{r as T,a as $}from"./EyeIcon-54d2a192.js";const D={class:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full"},M={class:"flex justify-center mb-6"},R={class:"space-y-4"},q={class:"relative"},z={class:"flex items-center justify-between"},L={class:"flex items-center"},H={key:0,class:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded relative",role:"alert"},W={class:"block sm:inline"},G=["disabled"],I={key:0},J={key:1},K={class:"mt-4 text-center text-sm text-gray-600"},ee={__name:"Login",setup(O){const w=k(),v=C(),l=x(""),d=x(!1),h=F(P({email:y().min(1,"Email is required").email("Please enter a valid email address"),password:y().min(1,"Password is required"),remember:N().optional()})),_=async p=>{var e,r;try{l.value="";const n=await v.login(p);n.status==="success"?w.push({name:"dashboard"}):l.value=n.message||"An error occurred during login"}catch(n){l.value=((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"An error occurred during login"}};return(p,e)=>{const r=S("router-link");return a(),u(A,null,{default:i(()=>[s("div",D,[s("div",M,[t(r,{to:{name:"home"},class:"inline-block w-20 h-20"},{default:i(()=>[t(E,{isDark:!1})]),_:1})]),e[8]||(e[8]=s("h2",{class:"text-2xl font-bold mb-6 text-center text-gray-900"}," Welcome Back to CSMCL SPACE ",-1)),t(o(j),{"validation-schema":o(h),onSubmit:_},{default:i(({errors:n,isSubmitting:f})=>[s("div",R,[s("div",null,[e[1]||(e[1]=s("label",{for:"email",class:"block text-sm font-medium mb-1 text-gray-700"}," Email ",-1)),t(o(c),{id:"email",name:"email",type:"email",class:"w-full px-4 py-2 rounded border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"your@email.com or username@cosmical.me"}),t(o(g),{name:"email",class:"mt-1 text-sm text-red-500"})]),s("div",null,[e[2]||(e[2]=s("label",{for:"password",class:"block text-sm font-medium mb-1 text-gray-700"}," Password ",-1)),s("div",q,[t(o(c),{type:d.value?"text":"password",id:"password",name:"password",class:"w-full px-4 py-2 rounded border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Enter your password"},null,8,["type"]),s("button",{type:"button",onClick:e[0]||(e[0]=Q=>d.value=!d.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500"},[d.value?(a(),u(o($),{key:1,class:"h-5 w-5"})):(a(),u(o(T),{key:0,class:"h-5 w-5"}))])]),t(o(g),{name:"password",class:"mt-1 text-sm text-red-500"})]),s("div",z,[s("div",L,[t(o(c),{type:"checkbox",id:"remember",name:"remember",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e[3]||(e[3]=s("label",{for:"remember",class:"ml-2 block text-sm text-gray-700"}," Remember me ",-1))]),t(r,{to:{name:"forgot-password"},class:"text-sm text-blue-600 hover:text-blue-500"},{default:i(()=>e[4]||(e[4]=[m(" Forgot password? ")])),_:1})]),l.value?(a(),b("div",H,[s("span",W,B(l.value),1)])):V("",!0),s("button",{type:"submit",disabled:f,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[f?(a(),b("span",I,e[5]||(e[5]=[s("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" Signing in... ")]))):(a(),b("span",J,"Sign in"))],8,G),s("p",K,[e[7]||(e[7]=m(" Don't have an account? ")),t(r,{to:{name:"register"},class:"font-medium text-blue-600 hover:text-blue-500"},{default:i(()=>e[6]||(e[6]=[m(" Register now ")])),_:1})])])]),_:1},8,["validation-schema"])])]),_:1})}}};export{ee as default};
